---
title: "Doge years: Life and Times of Venetian doges"
author: "JJ Merelo"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Doge years: Life and Times of Venetian doges}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
bibliography: ../inst/doges.bib
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Introduction

Since doges were elected for life, it was apparently a conscious design by the electoral college to choose them in such a way that their terms would not last too long [@smith2021long]. Using data from `dogesr` [@dogesr], we will, in this vignette, see to what extent that happened and if there was some evolution during the time the Republic of Venice existed

## Set up

```{r load}
library(dogesr)
data("doges")
```

This will import the data from the `dogesr` package into the `data.doges` data frame. We are interested in the `Doges` and `Years` variables. Let's create a data frame out of that:

```{r years}
doges.all.years <- data.frame( doge = data.doges$Doge, years = data.doges$Years)
```

Several doges only were able to stay alive during the same year

```{r same.year}
knitr::kable(doges.all.years[doges.all.years$years == 0,]$doge, col.names=NULL)
```

And quite a few during 1 year or less

```{r one.year.or.less}
doges.one.year <- unique(doges.all.years[doges.all.years$years <= 1,])
knitr::kable(doges.one.year[order(doges.one.year$years),],col.names=NULL)
```

So it effectively looks like most doges effectively had a short shelf life. As a matter of fact, the doge that staid in power the longest was

```{r longest.doge}
knitr::kable(doges.all.years[which.max(doges.all.years$years),])
```

Francesco Foscari was elected when he was 50, defeating Pietro Loredan. After being in power for 34 years, he was the only doge forced to abdicate after the *serrata* or new rules electing the doges.

We can see whether this has any kind of influence using now several functions provided by the `dogesr` package next.

## Analyzing the evolution of the effective terms of the doges using `doges.years`

This can be analyzed a but further with a function provided by `dogesr`, `doges.years`. This filters part of the original data, leaving only data needed to work with the doges' terms (or years)

```{r using.doges.years}
doges.years.all <- doges.years()
knitr::kable(head(doges.years.all[order(-doges.years.all$Years),]))
```



## References
